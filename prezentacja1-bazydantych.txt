Create table postac (id_postaci INT PRIMARY KEY, nazwa VARCHAR(20),rodzaj ENUM ('wiking','ptak','kobieta'),data_ur DATE,wiek INT UNSIGNED);
INSERT INTO postac (nazwa) VALUES ('Bjorn'),('Drozd'),('TESCIOWA');
UPDATE postac SET (rodzaj='wiking',data_ur='1991.02.20',wiek='31') WHERE nazwa='Bjorn';
UPDATE postac SET (rodzaj='ptak',data_ur='1410.06.29',wiek='612') WHERE nazwa='Drozd';
UPDATE postac SET (rodzaj='kobieta',data_ur='1934.01.01',wiek='88') WHERE nazwa='Tesciowa';



CREATE TABLE walizka (id_walizki INT PRIMARY KEY, pojemnosc INT UNSIGNED,kolor ENUM ('rozowy','zolty','czerwony','teczowy'),id_wlasciciela INT, FOREIGN KEY (id_wlasciciela) R
EFERENCES postac(id_postaci) ON DELETE CASCADE);


ALTER TABLE walizka alter kolor SET DEFAULT 'rozowy';

INSERT INTO walizka (pojemnosc,kolor,id_wlaciciela) VALUES ('2','teczowy','1');
INSERT INTO walizka (pojemnosc,kolor,id_wlaciciela) VALUES ('300','czerwony','3');





CREATE TABLE izba (adres_budynku VARCHAR(40),nazwa_izby VARCHAR(50),metraz INT UNSIGNED, wlasciciel INT, FOREIGN KEY (wlasciciel) REFERENCES postac(id_postaci) ON DELETE CASCADE);

ALTER TABLE izba ADD PRIMARY KEY (adres_budynku,nazwa_izby);


ALTER TABLE izba ADD kolor VARCHAR(50) AFTER metraz;

ALTER TABLE izba alter kolor SET DEFAULT 'czarny';

INSERT INTO izba (adres_budynku,nazwa_izby,metraz,kolor,wlasciciel) VALUES ('tesciowej5', 'spizarnia','300','czarny','3';


CREATE TABLE przetwory (id_przetworu INT PRIMARY KEY,rok_produkcji YEAR DEFAULT '1654',id_wykonawcy INT, FOREIGN KEY(id_wykonawcy) REFERENCES postac(id_postaci) ON DELETE CASCADE,zawartosc CHAR,dodatek CHAR DEFAULT 'papryczka_chil
i',id_konsumenta INT, FOREIGN KEY (id_konsumenta) REFERENCES postac(id_postaci) ON DELETE CASCADE);

INSERT INTO przetwory (id_wykonawcy,zawartosc,id_konsumenta) VALUES ('1','bigos','3');

INSERT INTO postac (nazwa) VALUES  ('wiking1'),('wiking2'),('wiking3'),('wiking4'),('wiking5');
UPDATE postac SET (rodzaj='wiking',data_ur='2000.01.01',wiek='22') WHERE nazwa= 'wiking1';
UPDATE postac SET (rodzaj='wiking',data_ur='2000.01.01',wiek='22') WHERE nazwa= 'wiking2';
UPDATE postac SET (rodzaj='wiking',data_ur='2000.01.01',wiek='22') WHERE nazwa= 'wiking3';
UPDATE postac SET (rodzaj='wiking',data_ur='2000.01.01',wiek='22') WHERE nazwa= 'wiking4';
UPDATE postac SET (rodzaj='wiking',data_ur='2000.01.01',wiek='22') WHERE nazwa= 'wiking5';

CREATE TABLE statek (nazwa_statku INT PRIMARY KEY,rodzaj statku ENUM('twardy'),data_wodowania DATE,max_ladownosc INT UNSIGNED);

INSERT INTO statek (nazwa_statku,rodzaj_statku,data_wodowania,max_ladownosc) VALUES ('mandarybka','twardy','2022.10.21','700');
INSERT INTO statek (nazwa_statku,rodzaj_statku,data_wodowania,max_ladownosc) VALUES ('black_pearl','twardy','2022.10.21','1700');
ALTER TABLE statek ADD zaloga INT;

ALTER TABLE postac ADD funkcja CHAR;
UPDATE postac SET (funkcja='kapitan') WHERE nazwa='Bjorn';

ALTER TABLE postac add statkowicze INT, FOREIGN KEY(statkowkicze) REFERENCES statek(zaloga) ON DELETE CASCADE;

INSERT INTO statek (zaloga) VALUES ('Drozd','wiking1','wiking2','wiking3','wiking4','wiking5');

DELETE FROM izba WHERE nazwa_izby='spizarnia';
DROP TABLE izba;

